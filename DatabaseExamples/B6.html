<!doctype html>
<html>
    <head>
        <title>Database Parsons Problem</title>
        <link href="../parsons.css" rel="stylesheet" />
        <link href="../lib/prettify.css" rel="stylesheet" />
        <script src="../lib/prettify.js"></script>
    <script async src='/cdn-cgi/bm/cv/669835187/api.js'></script></head>
    <body>
        <h2>B6 Database Parsons Problem</h2>
        <p>Construct a query by drag and dropping and reordering lines from the
            left to the right.</p>
        <p>List the names of actors who have acted a role as himself or herself. Sort the results according to surname, and then according to first name, both in ascending order.</p>
        <div>
            <div>
              <h3>Table 1</h3>
              <img src="Pictures/B6.PNG" alt="Table 1">
            </div>
        </div>
        <div id="sortableTrash" class="sortable-code"></div>
        <div id="sortable" class="sortable-code"></div>
        <div style="clear:both;"></div>
        <p>
            <a href="#" id="newInstanceLink">New instance</a>
            <a href="#" id="feedbackLink">Check Solution</a>
            <a href="#" id="nextQuestion" style="float: right;">Next Question</a>
        </p>
        <script src="../lib/jquery.min.js"></script>
        <script src="../lib/jquery-ui.min.js"></script>
        <script src="../lib/jquery.ui.touch-punch.min.js"></script>
        <script src="../lib/underscore-min.js"></script>
        <script src="../lib/lis.js"></script>
        <script src="../parsons.js"></script>
        <script>
        var initial = 'SELECT a.fname, a.sname\n' +
                      'FROM actor a\n' +
                      'WHERE EXISTS\n' +
                      '  (SELECT *\n' +
                      '  FROM acts ac\n' +
                      '  WHERE a.actno = ac.actno\n' +
                      '  AND EXISTS\n' +
                      '     (SELECT *\n' +
                      '     FROM role r\n' +
                      '     WHERE ac.rolno = r.rolno\n' +
                      '     AND (r.alias = "Himself" OR r.alias = "Herself"))\n' +
                      '  )\n' +
                      'ORDER BY a.sname ASC, a.fname ASC;\n' +
                      'SELECT fname sname #distractor\n' +
                      'FROM role a #distractor\n' +
                      '  (SELECT r.fname, r.sname #distractor\n' +
                      '  FROM #distractor\n' +
                      '  SELECT fname sname #distractor\n' +
                      '     SELECT fname sname #distractor\n' +
                      '     SELECT fname sname #distractor\n' +
                      '     SELECT fname sname #distractor\n' +
                      '     SELECT fname sname #distractor\n' +
                      'SELECT fname sname #distractor\n'

        function displayErrors(fb) {
            if(fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        } 

        //NOTE TO SELF ONLY TRUE/FALSE is broken
        $(document).ready(function(){
            var parson = new ParsonsWidget({
                'sortableId': 'sortable',
                'trashId': 'sortableTrash',
                //Used to show amount of distractors shown at once
                'max_wrong_lines': 12,
                // Not adding 'displayErrors' will show a pop up with your error
                'feedback_cb' : displayErrors,
                //Use to show either the first error or all the wrong lines
                'first_error_only': true,
                'incorrectSound': true,
                'droppableType': true,
                'colored_keyword': false,
                'colored_background': true
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                parson.getFeedback();
            });
            $("#nextQuestion").click(function(event){
                location.href='a1.html'
            });

            //Add Accordian Functionality
            var acc = document.getElementsByClassName("accordion");
            var i;
            console.log(acc.length)

            for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                /* Toggle between adding and removing the "active" class,
                to highlight the button that controls the panel */
                this.classList.toggle("active");

                /* Toggle between hiding and showing the active panel */
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                panel.style.display = "none";
                } else {
                panel.style.display = "block";
                }
            });
            }
        });
        </script>
    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'6dd38404d8284004',m:'gGTbG4Mj3NZ6Ahq8dY7H202EkaI5WovcL_6lo9VcDVQ-1644812549-0-Af4bItOehQ1EyCYXuf/1k8vVow07lD1bJ7+nmf6Lq7ypnwUJFqxyfVw9fNsy4OAKndUrieZBF3fmUbWkYIQKzqyRkvJm+UUJWtbfHk5vQXKOkUzmwWSvGrBwBefREx7/pBoTf5UX0yrOHQ7fULunpnJdpr4OYFB6fMcyGwLvRLXhgz4xqTwc0IwNwg4IAXDtOg==',s:[0x2c76e70693,0x3b89c9721e],}})();</script></body>
</html>
